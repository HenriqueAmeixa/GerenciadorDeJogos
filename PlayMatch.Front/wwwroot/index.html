<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>PlayMatch.Front</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="PlayMatch.Front.styles.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
</head>

<body>

    <div class="status-bar-safe-area"></div>

    <div id="app">Loading...</div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">üóô</a>
    </div>

    <script src="_framework/blazor.webview.js" autostart="false"></script>

</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    window.graficosRadar = {};

    window.inicializarGraficosRadar = (json) => {
        console.log("Conte√∫do bruto recebido:", json);
        const dados = JSON.parse(json);
        console.log("Renderizando gr√°ficos com:", dados);
        console.dir(dados);

        setTimeout(() => {
            const grupos = {
                graficoPatinacao: {
                    labels: ["Curvas", "Estamina", "Acelera√ß√£o", "Frenagem", "Transi√ß√£o"],
                    data: [
                        dados.curvas, dados.estamina, dados.aceleracao,
                        dados.frenagem, dados.transicao
                    ]
                },
                graficoAtaque: {
                    labels: ["Chute", "StickHandle", "Prote√ß√£o", "Condu√ß√£o", "Finaliza√ß√£o"],
                    data: [
                        dados.chute, dados.stickHandle, dados.protecao,
                        dados.conducao, dados.finalizacao
                    ]
                },
                graficoDefesa: {
                    labels: ["Marca√ß√£o", "DefesaGol", "Antecipa√ß√£o", "Desarme", "Recupera√ß√£o"],
                    data: [
                        dados.marcacao, dados.defesaGol, dados.antecipacao,
                        dados.desarme, dados.recuperacao
                    ]
                },
                graficoArticulacao: {
                    labels: ["Passe", "Estrat√©gia", "Fator Decisivo", "Comunica√ß√£o", "Posicionamento"],
                    data: [
                        dados.passe, dados.estrategia, dados.fatorDecisivo,
                        dados.comunicacao, dados.posicionamento
                    ]
                }
            };

            if (!window.graficosRadar) {
                window.graficosRadar = {};
            }

            for (const [id, config] of Object.entries(grupos)) {
                const canvas = document.getElementById(id);
                if (!canvas) {
                    console.warn(`Canvas ${id} n√£o encontrado`);
                    continue;
                }

                if (window.graficosRadar[id]) {
                    window.graficosRadar[id].destroy();
                }

                window.graficosRadar[id] = new Chart(canvas, {
                    type: 'radar',
                    data: {
                        labels: config.labels,
                        datasets: [{
                            label: 'Pontua√ß√£o',
                            data: config.data,
                            backgroundColor: 'rgba(0, 123, 255, 0.2)',
                            borderColor: 'rgba(0, 123, 255, 1)',
                            pointBackgroundColor: 'rgba(0, 123, 255, 1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        animation: true,
                        scales: {
                            r: {
                                min: 0,
                                max: 10,
                                ticks: { stepSize: 1 }
                            }
                        }
                    }
                });
            }
        }, 200);
    };

</script>




